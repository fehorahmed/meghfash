import{r,j as e,S as q,x as z}from"./app-aef64c69.js";import{M as B,a as S,b as H,d as U}from"./MainLayout-e41de4fa.js";function G({general:x,headerMenu:w,footerMenu2:v,footerMenu3:C,footerMenu4:E,categoryMenu:k,auth:N}){const[d,u]=r.useState("number"),[p,a]=r.useState(!1),[i,O]=r.useState(""),[h,R]=r.useState(""),[j,T]=r.useState(""),[b,F]=r.useState(""),[y,P]=r.useState(""),[f,I]=r.useState(""),[_,M]=r.useState(!1),[g,o]=r.useState(""),[A,m]=r.useState(!1),l=document.querySelector('meta[name="csrf-token"]').getAttribute("content");console.log(l);const D=async s=>{s.preventDefault(),a(!0);try{const n=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":l},body:JSON.stringify({email_phone:i})});if(!n.ok)throw new Error("Network response was not ok");const t=await n.json();o(t.message),m(t.success),t.success&&u("otp"),console.log("Server response:",t)}catch(n){console.error("Error:",n.message),o("Something went wrong!")}finally{a(!1)}},L=async s=>{s.preventDefault(),a(!0);try{const n=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":l},body:JSON.stringify({email_phone:i,otpCode:h})});if(!n.ok)throw new Error("Network response was not ok");const t=await n.json();o(t.message),m(t.success),t.success&&u("register"),console.log("Server response:",t)}catch(n){console.error("Error:",n.message),o("Something went wrong!")}finally{a(!1)}},Y=async s=>{s.preventDefault(),a(!0);const n={email_phone:i,otpCode:h,name:j,password:b,terms:_};try{const t=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":l},body:JSON.stringify(n)});if(!t.ok)throw new Error("Network response was not ok");const c=await t.json();c.success?(console.log("success"),U.Inertia.visit("/customer/dashboard")):console.log("fail"),o(c.message),m(c.success),P(c.errors.name),I(c.errors.password),console.log("Server response:",c)}catch{o("Something went wrong!")}finally{a(!1)}},J=s=>{const n=s.target.value;O(n)},K=()=>{u("number"),o("")},X=s=>{const n=s.target.value;R(n)};return e.jsx(e.Fragment,{children:e.jsxs(B,{auth:N,general:x,headerMenu:w,footerMenu2:v,footerMenu3:C,footerMenu4:E,categoryMenu:k,children:[e.jsx(q,{title:"register"}),e.jsx("div",{class:"login__section section--padding",children:e.jsx("div",{class:"container",children:e.jsx("div",{class:"login__section--inner",children:e.jsxs("div",{class:"row",children:[e.jsx("div",{className:"col-md-3"}),e.jsx("div",{class:"col-md-6",children:e.jsxs("div",{class:"account__login register",children:[e.jsxs("div",{class:"account__login--header mb-25",children:[e.jsx("h2",{class:"account__login--header__title h3 mb-10",children:"Create an Account "}),e.jsx("p",{class:"account__login--header__desc",children:"Register here if you are a new customer "})]}),e.jsxs("div",{class:"account__login--inner",children:[d=="number"&&e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:D,children:[e.jsx("label",{children:"You Email/Mobile number"}),e.jsx("span",{style:{color:"red"},children:g}),e.jsx("input",{class:"account__login--input",placeholder:"E-mail or Mobile number",type:"text",value:i,onChange:J}),e.jsxs("button",{class:"account__login--btn primary__btn mb-10",type:"submit",children:[p?e.jsx("div",{class:"spinner-border ",role:"status"}):"Continue",e.jsx(S,{style:{marginLeft:"5px"}})," "]})]})}),d=="otp"&&e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:L,children:[e.jsxs("label",{style:{color:"gray"},children:[i,e.jsxs("span",{onClick:K,style:{padding:"0px 15px",color:"#ffffff",cursor:"pointer",display:"inline-block",background:"#dd0909",margin:"0 5px",borderRadius:"5",display:"inline-flex",alignItems:"center"},children:[e.jsx(H,{style:{marginRight:"5px"}}),"Edit"]})]}),e.jsx("label",{children:A?e.jsx("span",{style:{color:"green"},children:g}):e.jsx("span",{style:{color:"red"},children:g})}),e.jsx("input",{class:"account__login--input",placeholder:"6 digit Code",type:"number",value:h,onChange:X}),e.jsxs("button",{class:"account__login--btn primary__btn mb-10",type:"submit",children:[p?e.jsx("div",{class:"spinner-border ",role:"status"}):"Verify OTP ",e.jsx(S,{style:{marginLeft:"5px"}})]})]})}),d=="register"&&e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:Y,children:[e.jsx("label",{children:"Your Name *"}),y&&e.jsxs("p",{className:"errrowMsg",style:{fontSize:"14px",margin:"0"},children:[" ",e.jsx("span",{children:y})," "]}),e.jsx("input",{class:"account__login--input",placeholder:"Your Name",type:"text",value:j,onChange:s=>T(s.target.value)}),e.jsx("label",{children:"Password *"}),f&&e.jsxs("p",{className:"errrowMsg",style:{fontSize:"14px",margin:"0"},children:[" ",e.jsx("span",{children:f})," "]}),e.jsx("input",{class:"account__login--input",placeholder:"Your Password",type:"password",value:b,onChange:s=>F(s.target.value)}),e.jsxs("label",{className:"mb-3",children:[e.jsx("input",{type:"checkbox",name:"tarms",required:!0,style:{marginRight:"10px"},value:_,onChange:s=>M(s.target.checked)}),"I agree to ",x.title,"'s ",e.jsx("a",{href:"/terms-and-conditions",target:"_blank",children:" terms & conditions"})]}),e.jsx("button",{class:"account__login--btn primary__btn mb-10",type:"submit",children:p?e.jsx("div",{class:"spinner-border ",role:"status"}):"Submit"})]})}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("p",{class:"account__login--signup__text",children:[" ",e.jsx("span",{style:{fontWeight:"normal"},children:"I Have already Account?"}),"  ",e.jsx(z,{href:route("login"),children:e.jsx("button",{type:"submit",children:"Sign In now "})})]})]})]})}),e.jsx("div",{className:"col-md-3"})]})})})})]})})}export{G as default};
