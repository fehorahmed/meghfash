import{r as n,j as e,S as q}from"./app-f7a8c7c8.js";import{A as L}from"./AlertMassageCompononets-dd35f479.js";import{S as O}from"./SideBar-57f7ca09.js";import{M as W,d as $}from"./MainLayout-b26abb2f.js";function D({general:o,headerMenu:v,footerMenu4:g,footerMenu2:f,footerMenu3:w,categoryMenu:y,carts:S,auth:a,item:s}){var _;const[b,l]=n.useState(""),[d,u]=n.useState(!1),[i,R]=n.useState((s==null?void 0:s.review_rating)??5),[p,k]=n.useState(s==null?void 0:s.review_content),[x,M]=n.useState(""),[h,E]=n.useState(""),[C,m]=n.useState(!1),[N,j]=n.useState(""),A=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),P=async t=>{t.preventDefault(),m(!0);try{const c=await fetch(`/customer/my-reviews/review/${s.id}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":A},body:JSON.stringify({rating:i,review:p})}),r=await c.json();c.ok?(l(r.message),console.log(r.message),u(r.success),j("success"),$.Inertia.visit("/customer/my-reviews")):r.errors&&(M(r.errors.rating),E(r.errors.review),l("Somthing want to worng!"),u(r.success),j("error")),console.log("Server response:",r)}catch(c){console.log(c)}finally{m(!1)}},T=t=>{R(t.target.value)};return console.log(i),e.jsx(e.Fragment,{children:e.jsxs(W,{auth:a,general:o,headerMenu:v,footerMenu4:g,footerMenu3:w,footerMenu2:f,categoryMenu:y,carts:S,children:[e.jsxs(q,{title:`My Profile - ${o.web_title}`,children:[e.jsx("meta",{name:"title",property:"og:title",content:`My Profile - ${o.web_title}`}),e.jsx("meta",{name:"description",property:"og:description",content:o.meta_description}),e.jsx("meta",{name:"keyword",property:"og:keyword",content:o.meta_keyword}),e.jsx("meta",{name:"image",property:"og:image",content:o.logo_url}),e.jsx("meta",{name:"url",property:"og:url",content:route("customer.orderReview",s.id)}),e.jsx("link",{rel:"canonical",href:route("customer.orderReview",s.id)})]}),e.jsx("section",{class:"my__account--section section--padding",children:e.jsxs("div",{class:"container",children:[e.jsxs("p",{class:"account__welcome--text",children:["Hello, ",a.user.name," welcome to your dashboard!"]}),e.jsxs("div",{class:"my__account--section__inner border-radius-10 d-flex",children:[e.jsx(O,{auth:a}),e.jsx("div",{class:"account__wrapper",children:e.jsxs("div",{class:"account__content",children:[e.jsx("h2",{class:"account__content--title h3 mb-20",children:"My Review"}),e.jsxs("div",{children:[e.jsx(L,{status:N,message:b}),e.jsxs("form",{class:"contact__form--inner",onSubmit:P,children:[e.jsxs("div",{class:"row",children:[e.jsx("div",{class:"col-lg-12 mb-12",children:e.jsxs("div",{style:{display:"flex"},children:[e.jsx("img",{src:s.image_url,style:{maxWidth:"100px",maxHeight:"80px",marginRight:"5px"}}),e.jsx("div",{children:e.jsxs("p",{children:[s.product_name,e.jsx("br",{}),(_=s==null?void 0:s.variants)==null?void 0:_.map(t=>e.jsxs("span",{class:"cart__content--variant",children:[" ",t.title,": ",t.value," "]}))]})})]})}),e.jsxs("div",{class:"col-lg-6 mb-12",children:[e.jsxs("label",{class:"contact__form--label",for:"input5",children:["Rating ",e.jsx("span",{class:"contact__form--label__star",children:"* "})]}),e.jsxs("div",{class:"checkout__input--list checkout__input--select select",children:[d==!0?"":e.jsxs("p",{className:"errrowMsg",style:{fontSize:"14px"},children:[" ",x&&e.jsx("span",{children:x}),"  "]}),e.jsxs("select",{class:"form-select checkout__input--select__field border-radius-5",name:"rating",required:"",value:i,onChange:T,children:[e.jsx("option",{value:"5",children:"5 Star"}),e.jsx("option",{value:"4",children:"4 Star"}),e.jsx("option",{value:"3",children:"3 Star"}),e.jsx("option",{value:"2",children:"2 Star"}),e.jsx("option",{value:"1",children:"1 Star"})]})]})]}),e.jsx("div",{class:"col-12",children:e.jsxs("div",{class:"contact__form--list mb-15",children:[e.jsxs("label",{class:"contact__form--label",for:"input5",children:["Review ",e.jsx("span",{class:"contact__form--label__star",children:"* "})]}),d==!0?"":e.jsxs("p",{className:"errrowMsg",style:{fontSize:"14px"},children:[" ",h&&e.jsx("span",{children:h}),"  "]}),e.jsx("textarea",{class:"contact__form--textarea",name:"review",required:"",placeholder:"Write Your Review",value:p,onChange:t=>k(t.target.value)})]})})]}),e.jsx("button",{class:"contact__form--btn primary__btn",type:"submit",style:{position:"relative",minWidth:"200px"},children:C?e.jsx("span",{className:"loading"}):e.jsx("span",{children:"Submit Now"})})]})]})]})})]})]})})]})})}export{D as default};
